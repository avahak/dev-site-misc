import{g as Ut,a as Zt,s as Kt,m as Qt,r as k,u as Vt,b as bt,j as F,c as ne,d as ot,e as ut,f as te,B as Nn,T as at}from"./index-Uw95RFdi.js";function ee(n){return Ut("MuiPaper",n)}Zt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ie=n=>{const{square:t,elevation:i,variant:e,classes:r}=n,u={root:["root",e,!t&&"rounded",e==="elevation"&&`elevation${i}`]};return te(u,ee,r)},re=Kt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[i.variant],!i.square&&t.rounded,i.variant==="elevation"&&t[`elevation${i.elevation}`]]}})(Qt(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),oe=k.forwardRef(function(t,i){var f;const e=Vt({props:t,name:"MuiPaper"}),r=bt(),{className:u,component:l="div",elevation:c=1,square:S=!1,variant:g="elevation",...o}=e,a={...e,component:l,elevation:c,square:S,variant:g},s=ie(a);return F.jsx(re,{as:l,ownerState:a,className:ne(s.root,u),ref:i,...o,style:{...g==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[c],...r.vars&&{"--Paper-overlay":(f=r.vars.overlays)==null?void 0:f[c]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ot("#fff",ut(c))}, ${ot("#fff",ut(c))})`}},...o.style}})});class en{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const u=i[r],l=t+u,c=Math.abs(t)<Math.abs(u)?t-(l-u):u-(l-t);c&&(i[e++]=c),t=l}return i[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let i=this._n,e,r,u,l=0;if(i>0){for(l=t[--i];i>0&&(e=l,r=t[--i],l=e+r,u=r-(l-e),!u););i>0&&(u<0&&t[i-1]<0||u>0&&t[i-1]>0)&&(r=u*2,e=l+r,r==e-l&&(l=e))}return l}}function*ue(n){for(const t of n)yield*t}function Tt(n){return Array.from(ue(n))}function ln(n,t,i){n=+n,t=+t,i=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+i;for(var e=-1,r=Math.max(0,Math.ceil((t-n)/i))|0,u=new Array(r);++e<r;)u[e]=n+e*i;return u}var _=1e-6,ae=1e-12,$=Math.PI,B=$/2,lt=$/4,J=$*2,V=180/$,O=$/180,j=Math.abs,le=Math.atan,sn=Math.atan2,D=Math.cos,xn=Math.ceil,A=Math.sin,ce=Math.sign||function(n){return n>0?1:n<0?-1:0},nn=Math.sqrt;function se(n){return n>1?0:n<-1?$:Math.acos(n)}function rn(n){return n>1?B:n<-1?-B:Math.asin(n)}function H(){}function Cn(n,t){n&&st.hasOwnProperty(n.type)&&st[n.type](n,t)}var ct={Feature:function(n,t){Cn(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,e=-1,r=i.length;++e<r;)Cn(i[e].geometry,t)}},st={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)n=i[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){On(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)On(i[e],t,0)},Polygon:function(n,t){ft(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)ft(i[e],t)},GeometryCollection:function(n,t){for(var i=n.geometries,e=-1,r=i.length;++e<r;)Cn(i[e],t)}};function On(n,t,i){var e=-1,r=n.length-i,u;for(t.lineStart();++e<r;)u=n[e],t.point(u[0],u[1],u[2]);t.lineEnd()}function ft(n,t){var i=-1,e=n.length;for(t.polygonStart();++i<e;)On(n[i],t,1);t.polygonEnd()}function an(n,t){n&&ct.hasOwnProperty(n.type)?ct[n.type](n,t):Cn(n,t)}function qn(n){return[sn(n[1],n[0]),rn(n[2])]}function fn(n){var t=n[0],i=n[1],e=D(i);return[e*D(t),e*A(t),A(i)]}function Rn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Tn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Yn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Pn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Wn(n){var t=nn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Bn(n,t){function i(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(i.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),i}function Hn(n,t){return j(n)>$&&(n-=Math.round(n/J)*J),[n,t]}Hn.invert=Hn;function fe(n,t,i){return(n%=J)?t||i?Bn(ht(n),vt(t,i)):ht(n):t||i?vt(t,i):Hn}function pt(n){return function(t,i){return t+=n,j(t)>$&&(t-=Math.round(t/J)*J),[t,i]}}function ht(n){var t=pt(n);return t.invert=pt(-n),t}function vt(n,t){var i=D(n),e=A(n),r=D(t),u=A(t);function l(c,S){var g=D(S),o=D(c)*g,a=A(c)*g,s=A(S),f=s*i+o*e;return[sn(a*r-f*u,o*i-s*e),rn(f*r+a*u)]}return l.invert=function(c,S){var g=D(S),o=D(c)*g,a=A(c)*g,s=A(S),f=s*r-a*u;return[sn(a*r+s*u,o*i+f*e),rn(f*i-o*e)]},l}function pe(n,t,i,e,r,u){if(i){var l=D(t),c=A(t),S=e*i;r==null?(r=t+e*J,u=t-S/2):(r=gt(l,r),u=gt(l,u),(e>0?r<u:r>u)&&(r+=e*J));for(var g,o=r;e>0?o>u:o<u;o-=S)g=qn([l,-c*D(o),-c*A(o)]),n.point(g[0],g[1])}}function gt(n,t){t=fn(t),t[0]-=n,Wn(t);var i=se(-t[1]);return((-t[2]<0?-i:i)+J-_)%J}function jt(){var n=[],t;return{point:function(i,e,r){t.push([i,e,r])},lineStart:function(){n.push(t=[])},lineEnd:H,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],t=null,i}}}function Ln(n,t){return j(n[0]-t[0])<_&&j(n[1]-t[1])<_}function _n(n,t,i,e){this.x=n,this.z=t,this.o=i,this.e=e,this.v=!1,this.n=this.p=null}function zt(n,t,i,e,r){var u=[],l=[],c,S;if(n.forEach(function(p){if(!((y=p.length-1)<=0)){var y,d=p[0],E=p[y],w;if(Ln(d,E)){if(!d[2]&&!E[2]){for(r.lineStart(),c=0;c<y;++c)r.point((d=p[c])[0],d[1]);r.lineEnd();return}E[0]+=2*_}u.push(w=new _n(d,p,null,!0)),l.push(w.o=new _n(d,null,w,!1)),u.push(w=new _n(E,p,null,!1)),l.push(w.o=new _n(E,null,w,!0))}}),!!u.length){for(l.sort(t),dt(u),dt(l),c=0,S=l.length;c<S;++c)l[c].e=i=!i;for(var g=u[0],o,a;;){for(var s=g,f=!0;s.v;)if((s=s.n)===g)return;o=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(f)for(c=0,S=o.length;c<S;++c)r.point((a=o[c])[0],a[1]);else e(s.x,s.n.x,1,r);s=s.n}else{if(f)for(o=s.p.z,c=o.length-1;c>=0;--c)r.point((a=o[c])[0],a[1]);else e(s.x,s.p.x,-1,r);s=s.p}s=s.o,o=s.z,f=!f}while(!s.v);r.lineEnd()}}}function dt(n){if(t=n.length){for(var t,i=0,e=n[0],r;++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function kn(n){return j(n[0])<=$?n[0]:ce(n[0])*((j(n[0])+$)%J-$)}function he(n,t){var i=kn(t),e=t[1],r=A(e),u=[A(i),-D(i),0],l=0,c=0,S=new en;r===1?e=B+_:r===-1&&(e=-B-_);for(var g=0,o=n.length;g<o;++g)if(s=(a=n[g]).length)for(var a,s,f=a[s-1],p=kn(f),y=f[1]/2+lt,d=A(y),E=D(y),w=0;w<s;++w,p=m,d=R,E=C,f=v){var v=a[w],m=kn(v),M=v[1]/2+lt,R=A(M),C=D(M),L=m-p,N=L>=0?1:-1,z=N*L,x=z>$,I=d*R;if(S.add(sn(I*N*A(z),E*C+I*D(z))),l+=x?L+N*J:L,x^p>=i^m>=i){var X=Tn(fn(f),fn(v));Wn(X);var T=Tn(u,X);Wn(T);var h=(x^L>=0?-1:1)*rn(T[2]);(e>h||e===h&&(X[0]||X[1]))&&(c+=x^L>=0?1:-1)}}return(l<-_||l<_&&S<-ae)^c&1}function At(n,t,i,e){return function(r){var u=t(r),l=jt(),c=t(l),S=!1,g,o,a,s={point:f,lineStart:y,lineEnd:d,polygonStart:function(){s.point=E,s.lineStart=w,s.lineEnd=v,o=[],g=[]},polygonEnd:function(){s.point=f,s.lineStart=y,s.lineEnd=d,o=Tt(o);var m=he(g,e);o.length?(S||(r.polygonStart(),S=!0),zt(o,ge,m,i,r)):m&&(S||(r.polygonStart(),S=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),S&&(r.polygonEnd(),S=!1),o=g=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(m,M){n(m,M)&&r.point(m,M)}function p(m,M){u.point(m,M)}function y(){s.point=p,u.lineStart()}function d(){s.point=f,u.lineEnd()}function E(m,M){a.push([m,M]),c.point(m,M)}function w(){c.lineStart(),a=[]}function v(){E(a[0][0],a[0][1]),c.lineEnd();var m=c.clean(),M=l.result(),R,C=M.length,L,N,z;if(a.pop(),g.push(a),a=null,!!C){if(m&1){if(N=M[0],(L=N.length-1)>0){for(S||(r.polygonStart(),S=!0),r.lineStart(),R=0;R<L;++R)r.point((z=N[R])[0],z[1]);r.lineEnd()}return}C>1&&m&2&&M.push(M.pop().concat(M.shift())),o.push(M.filter(ve))}}return s}}function ve(n){return n.length>1}function ge(n,t){return((n=n.x)[0]<0?n[1]-B-_:B-n[1])-((t=t.x)[0]<0?t[1]-B-_:B-t[1])}const St=At(function(){return!0},de,Ee,[-$,-B]);function de(n){var t=NaN,i=NaN,e=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(u,l){var c=u>0?$:-$,S=j(u-t);j(S-$)<_?(n.point(t,i=(i+l)/2>0?B:-B),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(c,i),n.point(u,i),r=0):e!==c&&S>=$&&(j(t-e)<_&&(t-=e*_),j(u-c)<_&&(u-=c*_),i=Se(t,i,u,l),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(c,i),r=0),n.point(t=u,i=l),e=c},lineEnd:function(){n.lineEnd(),t=i=NaN},clean:function(){return 2-r}}}function Se(n,t,i,e){var r,u,l=A(n-i);return j(l)>_?le((A(t)*(u=D(e))*A(i)-A(e)*(r=D(t))*A(n))/(r*u*l)):(t+e)/2}function Ee(n,t,i,e){var r;if(n==null)r=i*B,e.point(-$,r),e.point(0,r),e.point($,r),e.point($,0),e.point($,-r),e.point(0,-r),e.point(-$,-r),e.point(-$,0),e.point(-$,r);else if(j(n[0]-t[0])>_){var u=n[0]<t[0]?$:-$;r=i*u/2,e.point(-u,r),e.point(0,r),e.point(u,r)}else e.point(t[0],t[1])}function we(n){var t=D(n),i=2*O,e=t>0,r=j(t)>_;function u(o,a,s,f){pe(f,n,i,s,o,a)}function l(o,a){return D(o)*D(a)>t}function c(o){var a,s,f,p,y;return{lineStart:function(){p=f=!1,y=1},point:function(d,E){var w=[d,E],v,m=l(d,E),M=e?m?0:g(d,E):m?g(d+(d<0?$:-$),E):0;if(!a&&(p=f=m)&&o.lineStart(),m!==f&&(v=S(a,w),(!v||Ln(a,v)||Ln(w,v))&&(w[2]=1)),m!==f)y=0,m?(o.lineStart(),v=S(w,a),o.point(v[0],v[1])):(v=S(a,w),o.point(v[0],v[1],2),o.lineEnd()),a=v;else if(r&&a&&e^m){var R;!(M&s)&&(R=S(w,a,!0))&&(y=0,e?(o.lineStart(),o.point(R[0][0],R[0][1]),o.point(R[1][0],R[1][1]),o.lineEnd()):(o.point(R[1][0],R[1][1]),o.lineEnd(),o.lineStart(),o.point(R[0][0],R[0][1],3)))}m&&(!a||!Ln(a,w))&&o.point(w[0],w[1]),a=w,f=m,s=M},lineEnd:function(){f&&o.lineEnd(),a=null},clean:function(){return y|(p&&f)<<1}}}function S(o,a,s){var f=fn(o),p=fn(a),y=[1,0,0],d=Tn(f,p),E=Rn(d,d),w=d[0],v=E-w*w;if(!v)return!s&&o;var m=t*E/v,M=-t*w/v,R=Tn(y,d),C=Pn(y,m),L=Pn(d,M);Yn(C,L);var N=R,z=Rn(C,N),x=Rn(N,N),I=z*z-x*(Rn(C,C)-1);if(!(I<0)){var X=nn(I),T=Pn(N,(-z-X)/x);if(Yn(T,C),T=qn(T),!s)return T;var h=o[0],P=a[0],Y=o[1],G=a[1],q;P<h&&(q=h,h=P,P=q);var hn=P-h,K=j(hn-$)<_,tn=K||hn<_;if(!K&&G<Y&&(q=Y,Y=G,G=q),tn?K?Y+G>0^T[1]<(j(T[0]-h)<_?Y:G):Y<=T[1]&&T[1]<=G:hn>$^(h<=T[0]&&T[0]<=P)){var Q=Pn(N,(-z+X)/x);return Yn(Q,C),[T,qn(Q)]}}}function g(o,a){var s=e?n:$-n,f=0;return o<-s?f|=1:o>s&&(f|=2),a<-s?f|=4:a>s&&(f|=8),f}return At(l,c,u,e?[0,-n]:[-$,n-$])}function ye(n,t,i,e,r,u){var l=n[0],c=n[1],S=t[0],g=t[1],o=0,a=1,s=S-l,f=g-c,p;if(p=i-l,!(!s&&p>0)){if(p/=s,s<0){if(p<o)return;p<a&&(a=p)}else if(s>0){if(p>a)return;p>o&&(o=p)}if(p=r-l,!(!s&&p<0)){if(p/=s,s<0){if(p>a)return;p>o&&(o=p)}else if(s>0){if(p<o)return;p<a&&(a=p)}if(p=e-c,!(!f&&p>0)){if(p/=f,f<0){if(p<o)return;p<a&&(a=p)}else if(f>0){if(p>a)return;p>o&&(o=p)}if(p=u-c,!(!f&&p<0)){if(p/=f,f<0){if(p>a)return;p>o&&(o=p)}else if(f>0){if(p<o)return;p<a&&(a=p)}return o>0&&(n[0]=l+o*s,n[1]=c+o*f),a<1&&(t[0]=l+a*s,t[1]=c+a*f),!0}}}}}var vn=1e9,$n=-vn;function me(n,t,i,e){function r(g,o){return n<=g&&g<=i&&t<=o&&o<=e}function u(g,o,a,s){var f=0,p=0;if(g==null||(f=l(g,a))!==(p=l(o,a))||S(g,o)<0^a>0)do s.point(f===0||f===3?n:i,f>1?e:t);while((f=(f+a+4)%4)!==p);else s.point(o[0],o[1])}function l(g,o){return j(g[0]-n)<_?o>0?0:3:j(g[0]-i)<_?o>0?2:1:j(g[1]-t)<_?o>0?1:0:o>0?3:2}function c(g,o){return S(g.x,o.x)}function S(g,o){var a=l(g,1),s=l(o,1);return a!==s?a-s:a===0?o[1]-g[1]:a===1?g[0]-o[0]:a===2?g[1]-o[1]:o[0]-g[0]}return function(g){var o=g,a=jt(),s,f,p,y,d,E,w,v,m,M,R,C={point:L,lineStart:I,lineEnd:X,polygonStart:z,polygonEnd:x};function L(h,P){r(h,P)&&o.point(h,P)}function N(){for(var h=0,P=0,Y=f.length;P<Y;++P)for(var G=f[P],q=1,hn=G.length,K=G[0],tn,Q,Mn=K[0],un=K[1];q<hn;++q)tn=Mn,Q=un,K=G[q],Mn=K[0],un=K[1],Q<=e?un>e&&(Mn-tn)*(e-Q)>(un-Q)*(n-tn)&&++h:un<=e&&(Mn-tn)*(e-Q)<(un-Q)*(n-tn)&&--h;return h}function z(){o=a,s=[],f=[],R=!0}function x(){var h=N(),P=R&&h,Y=(s=Tt(s)).length;(P||Y)&&(g.polygonStart(),P&&(g.lineStart(),u(null,null,1,g),g.lineEnd()),Y&&zt(s,c,h,u,g),g.polygonEnd()),o=g,s=f=p=null}function I(){C.point=T,f&&f.push(p=[]),M=!0,m=!1,w=v=NaN}function X(){s&&(T(y,d),E&&m&&a.rejoin(),s.push(a.result())),C.point=L,m&&o.lineEnd()}function T(h,P){var Y=r(h,P);if(f&&p.push([h,P]),M)y=h,d=P,E=Y,M=!1,Y&&(o.lineStart(),o.point(h,P));else if(Y&&m)o.point(h,P);else{var G=[w=Math.max($n,Math.min(vn,w)),v=Math.max($n,Math.min(vn,v))],q=[h=Math.max($n,Math.min(vn,h)),P=Math.max($n,Math.min(vn,P))];ye(G,q,n,t,i,e)?(m||(o.lineStart(),o.point(G[0],G[1])),o.point(q[0],q[1]),Y||o.lineEnd(),R=!1):Y&&(o.lineStart(),o.point(h,P),R=!1)}w=h,v=P,m=Y}return C}}function Et(n,t,i){var e=ln(n,t-_,i).concat(t);return function(r){return e.map(function(u){return[r,u]})}}function wt(n,t,i){var e=ln(n,t-_,i).concat(t);return function(r){return e.map(function(u){return[u,r]})}}function Me(){var n,t,i,e,r,u,l,c,S=10,g=S,o=90,a=360,s,f,p,y,d=2.5;function E(){return{type:"MultiLineString",coordinates:w()}}function w(){return ln(xn(e/o)*o,i,o).map(p).concat(ln(xn(c/a)*a,l,a).map(y)).concat(ln(xn(t/S)*S,n,S).filter(function(v){return j(v%o)>_}).map(s)).concat(ln(xn(u/g)*g,r,g).filter(function(v){return j(v%a)>_}).map(f))}return E.lines=function(){return w().map(function(v){return{type:"LineString",coordinates:v}})},E.outline=function(){return{type:"Polygon",coordinates:[p(e).concat(y(l).slice(1),p(i).reverse().slice(1),y(c).reverse().slice(1))]}},E.extent=function(v){return arguments.length?E.extentMajor(v).extentMinor(v):E.extentMinor()},E.extentMajor=function(v){return arguments.length?(e=+v[0][0],i=+v[1][0],c=+v[0][1],l=+v[1][1],e>i&&(v=e,e=i,i=v),c>l&&(v=c,c=l,l=v),E.precision(d)):[[e,c],[i,l]]},E.extentMinor=function(v){return arguments.length?(t=+v[0][0],n=+v[1][0],u=+v[0][1],r=+v[1][1],t>n&&(v=t,t=n,n=v),u>r&&(v=u,u=r,r=v),E.precision(d)):[[t,u],[n,r]]},E.step=function(v){return arguments.length?E.stepMajor(v).stepMinor(v):E.stepMinor()},E.stepMajor=function(v){return arguments.length?(o=+v[0],a=+v[1],E):[o,a]},E.stepMinor=function(v){return arguments.length?(S=+v[0],g=+v[1],E):[S,g]},E.precision=function(v){return arguments.length?(d=+v,s=Et(u,r,90),f=wt(t,n,d),p=Et(c,l,90),y=wt(e,i,d),E):d},E.extentMajor([[-180,-90+_],[180,90-_]]).extentMinor([[-180,-80-_],[180,80+_]])}function xe(){return Me()()}const Jn=n=>n;var In=new en,Un=new en,Dt,Ft,Zn,Kn,b={point:H,lineStart:H,lineEnd:H,polygonStart:function(){b.lineStart=Re,b.lineEnd=_e},polygonEnd:function(){b.lineStart=b.lineEnd=b.point=H,In.add(j(Un)),Un=new en},result:function(){var n=In/2;return In=new en,n}};function Re(){b.point=Pe}function Pe(n,t){b.point=Xt,Dt=Zn=n,Ft=Kn=t}function Xt(n,t){Un.add(Kn*n-Zn*t),Zn=n,Kn=t}function _e(){Xt(Dt,Ft)}var pn=1/0,jn=pn,yn=-pn,zn=yn,An={point:$e,lineStart:H,lineEnd:H,polygonStart:H,polygonEnd:H,result:function(){var n=[[pn,jn],[yn,zn]];return yn=zn=-(jn=pn=1/0),n}};function $e(n,t){n<pn&&(pn=n),n>yn&&(yn=n),t<jn&&(jn=t),t>zn&&(zn=t)}var Qn=0,Vn=0,gn=0,Dn=0,Fn=0,cn=0,bn=0,nt=0,dn=0,Yt,kt,U,Z,W={point:on,lineStart:yt,lineEnd:mt,polygonStart:function(){W.lineStart=Ce,W.lineEnd=Te},polygonEnd:function(){W.point=on,W.lineStart=yt,W.lineEnd=mt},result:function(){var n=dn?[bn/dn,nt/dn]:cn?[Dn/cn,Fn/cn]:gn?[Qn/gn,Vn/gn]:[NaN,NaN];return Qn=Vn=gn=Dn=Fn=cn=bn=nt=dn=0,n}};function on(n,t){Qn+=n,Vn+=t,++gn}function yt(){W.point=Le}function Le(n,t){W.point=Ne,on(U=n,Z=t)}function Ne(n,t){var i=n-U,e=t-Z,r=nn(i*i+e*e);Dn+=r*(U+n)/2,Fn+=r*(Z+t)/2,cn+=r,on(U=n,Z=t)}function mt(){W.point=on}function Ce(){W.point=je}function Te(){It(Yt,kt)}function je(n,t){W.point=It,on(Yt=U=n,kt=Z=t)}function It(n,t){var i=n-U,e=t-Z,r=nn(i*i+e*e);Dn+=r*(U+n)/2,Fn+=r*(Z+t)/2,cn+=r,r=Z*n-U*t,bn+=r*(U+n),nt+=r*(Z+t),dn+=r*3,on(U=n,Z=t)}function Gt(n){this._context=n}Gt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,J);break}}},result:H};var tt=new en,Gn,Ot,qt,Sn,En,mn={point:H,lineStart:function(){mn.point=ze},lineEnd:function(){Gn&&Wt(Ot,qt),mn.point=H},polygonStart:function(){Gn=!0},polygonEnd:function(){Gn=null},result:function(){var n=+tt;return tt=new en,n}};function ze(n,t){mn.point=Wt,Ot=Sn=n,qt=En=t}function Wt(n,t){Sn-=n,En-=t,tt.add(nn(Sn*Sn+En*En)),Sn=n,En=t}let Mt,Xn,xt,Rt;class Pt{constructor(t){this._append=t==null?Bt:Ae(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,i){switch(this._point){case 0:{this._append`M${t},${i}`,this._point=1;break}case 1:{this._append`L${t},${i}`;break}default:{if(this._append`M${t},${i}`,this._radius!==xt||this._append!==Xn){const e=this._radius,r=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,xt=e,Xn=this._append,Rt=this._,this._=r}this._+=Rt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Bt(n){let t=1;this._+=n[0];for(const i=n.length;t<i;++t)this._+=arguments[t]+n[t]}function Ae(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Bt;if(t!==Mt){const i=10**t;Mt=t,Xn=function(r){let u=1;this._+=r[0];for(const l=r.length;u<l;++u)this._+=Math.round(arguments[u]*i)/i+r[u]}}return Xn}function _t(n,t){let i=3,e=4.5,r,u;function l(c){return c&&(typeof e=="function"&&u.pointRadius(+e.apply(this,arguments)),an(c,r(u))),u.result()}return l.area=function(c){return an(c,r(b)),b.result()},l.measure=function(c){return an(c,r(mn)),mn.result()},l.bounds=function(c){return an(c,r(An)),An.result()},l.centroid=function(c){return an(c,r(W)),W.result()},l.projection=function(c){return arguments.length?(r=c==null?(n=null,Jn):(n=c).stream,l):n},l.context=function(c){return arguments.length?(u=c==null?(t=null,new Pt(i)):new Gt(t=c),typeof e!="function"&&u.pointRadius(e),l):t},l.pointRadius=function(c){return arguments.length?(e=typeof c=="function"?c:(u.pointRadius(+c),+c),l):e},l.digits=function(c){if(!arguments.length)return i;if(c==null)i=null;else{const S=Math.floor(c);if(!(S>=0))throw new RangeError(`invalid digits: ${c}`);i=S}return t===null&&(u=new Pt(i)),l},l.projection(n).digits(i).context(t)}function it(n){return function(t){var i=new et;for(var e in n)i[e]=n[e];return i.stream=t,i}}function et(){}et.prototype={constructor:et,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rt(n,t,i){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),an(i,n.stream(An)),t(An.result()),e!=null&&n.clipExtent(e),n}function Ht(n,t,i){return rt(n,function(e){var r=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(r/(e[1][0]-e[0][0]),u/(e[1][1]-e[0][1])),c=+t[0][0]+(r-l*(e[1][0]+e[0][0]))/2,S=+t[0][1]+(u-l*(e[1][1]+e[0][1]))/2;n.scale(150*l).translate([c,S])},i)}function De(n,t,i){return Ht(n,[[0,0],t],i)}function Fe(n,t,i){return rt(n,function(e){var r=+t,u=r/(e[1][0]-e[0][0]),l=(r-u*(e[1][0]+e[0][0]))/2,c=-u*e[0][1];n.scale(150*u).translate([l,c])},i)}function Xe(n,t,i){return rt(n,function(e){var r=+t,u=r/(e[1][1]-e[0][1]),l=-u*e[0][0],c=(r-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([l,c])},i)}var $t=16,Ye=D(30*O);function Lt(n,t){return+t?Ie(n,t):ke(n)}function ke(n){return it({point:function(t,i){t=n(t,i),this.stream.point(t[0],t[1])}})}function Ie(n,t){function i(e,r,u,l,c,S,g,o,a,s,f,p,y,d){var E=g-e,w=o-r,v=E*E+w*w;if(v>4*t&&y--){var m=l+s,M=c+f,R=S+p,C=nn(m*m+M*M+R*R),L=rn(R/=C),N=j(j(R)-1)<_||j(u-a)<_?(u+a)/2:sn(M,m),z=n(N,L),x=z[0],I=z[1],X=x-e,T=I-r,h=w*X-E*T;(h*h/v>t||j((E*X+w*T)/v-.5)>.3||l*s+c*f+S*p<Ye)&&(i(e,r,u,l,c,S,x,I,N,m/=C,M/=C,R,y,d),d.point(x,I),i(x,I,N,m,M,R,g,o,a,s,f,p,y,d))}}return function(e){var r,u,l,c,S,g,o,a,s,f,p,y,d={point:E,lineStart:w,lineEnd:m,polygonStart:function(){e.polygonStart(),d.lineStart=M},polygonEnd:function(){e.polygonEnd(),d.lineStart=w}};function E(L,N){L=n(L,N),e.point(L[0],L[1])}function w(){a=NaN,d.point=v,e.lineStart()}function v(L,N){var z=fn([L,N]),x=n(L,N);i(a,s,o,f,p,y,a=x[0],s=x[1],o=L,f=z[0],p=z[1],y=z[2],$t,e),e.point(a,s)}function m(){d.point=E,e.lineEnd()}function M(){w(),d.point=R,d.lineEnd=C}function R(L,N){v(r=L,N),u=a,l=s,c=f,S=p,g=y,d.point=v}function C(){i(a,s,o,f,p,y,u,l,r,c,S,g,$t,e),d.lineEnd=m,m()}return d}}var Ge=it({point:function(n,t){this.stream.point(n*O,t*O)}});function Oe(n){return it({point:function(t,i){var e=n(t,i);return this.stream.point(e[0],e[1])}})}function qe(n,t,i,e,r){function u(l,c){return l*=e,c*=r,[t+n*l,i-n*c]}return u.invert=function(l,c){return[(l-t)/n*e,(i-c)/n*r]},u}function Nt(n,t,i,e,r,u){if(!u)return qe(n,t,i,e,r);var l=D(u),c=A(u),S=l*n,g=c*n,o=l/n,a=c/n,s=(c*i-l*t)/n,f=(c*t+l*i)/n;function p(y,d){return y*=e,d*=r,[S*y-g*d+t,i-g*y-S*d]}return p.invert=function(y,d){return[e*(o*y-a*d+s),r*(f-a*y-o*d)]},p}function We(n){return Be(function(){return n})()}function Be(n){var t,i=150,e=480,r=250,u=0,l=0,c=0,S=0,g=0,o,a=0,s=1,f=1,p=null,y=St,d=null,E,w,v,m=Jn,M=.5,R,C,L,N,z;function x(h){return L(h[0]*O,h[1]*O)}function I(h){return h=L.invert(h[0],h[1]),h&&[h[0]*V,h[1]*V]}x.stream=function(h){return N&&z===h?N:N=Ge(Oe(o)(y(R(m(z=h)))))},x.preclip=function(h){return arguments.length?(y=h,p=void 0,T()):y},x.postclip=function(h){return arguments.length?(m=h,d=E=w=v=null,T()):m},x.clipAngle=function(h){return arguments.length?(y=+h?we(p=h*O):(p=null,St),T()):p*V},x.clipExtent=function(h){return arguments.length?(m=h==null?(d=E=w=v=null,Jn):me(d=+h[0][0],E=+h[0][1],w=+h[1][0],v=+h[1][1]),T()):d==null?null:[[d,E],[w,v]]},x.scale=function(h){return arguments.length?(i=+h,X()):i},x.translate=function(h){return arguments.length?(e=+h[0],r=+h[1],X()):[e,r]},x.center=function(h){return arguments.length?(u=h[0]%360*O,l=h[1]%360*O,X()):[u*V,l*V]},x.rotate=function(h){return arguments.length?(c=h[0]%360*O,S=h[1]%360*O,g=h.length>2?h[2]%360*O:0,X()):[c*V,S*V,g*V]},x.angle=function(h){return arguments.length?(a=h%360*O,X()):a*V},x.reflectX=function(h){return arguments.length?(s=h?-1:1,X()):s<0},x.reflectY=function(h){return arguments.length?(f=h?-1:1,X()):f<0},x.precision=function(h){return arguments.length?(R=Lt(C,M=h*h),T()):nn(M)},x.fitExtent=function(h,P){return Ht(x,h,P)},x.fitSize=function(h,P){return De(x,h,P)},x.fitWidth=function(h,P){return Fe(x,h,P)},x.fitHeight=function(h,P){return Xe(x,h,P)};function X(){var h=Nt(i,0,0,s,f,a).apply(null,t(u,l)),P=Nt(i,e-h[0],r-h[1],s,f,a);return o=fe(c,S,g),C=Bn(t,P),L=Bn(o,C),R=Lt(C,M),T()}function T(){return N=z=null,x}return function(){return t=n.apply(this,arguments),x.invert=t.invert&&I,X()}}function He(n){return function(t,i){var e=nn(t*t+i*i),r=n(e),u=A(r),l=D(r);return[sn(t*u,e*l),rn(e&&i*u/e)]}}function Jt(n,t){return[D(t)*A(n),A(t)]}Jt.invert=He(rn);function Ct(){return We(Jt).scale(249.5).clipAngle(90+_)}function wn(n,t,i){this.k=n,this.x=t,this.y=i}wn.prototype={constructor:wn,scale:function(n){return n===1?this:new wn(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new wn(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};wn.prototype;const Je=({data:n})=>{const t=k.useRef(null),i=k.useRef(null),e=k.useRef(!1),r=k.useRef({x:0,y:0}),[u,l]=k.useState([-24.9,-60.2,0]),c=()=>{if(!i.current)return;const a=i.current.getContext("2d");a&&(a.clearRect(0,0,a.canvas.width,a.canvas.height),S(),g())},S=()=>{if(!n||!i.current)return;const o=i.current,a=o.getContext("2d");if(!a)return;let s=Ct().scale(400).rotate(u).translate([o.width/2,o.height/2]),f=_t().projection(s).context(a);a.fillStyle="#369",a.strokeStyle="white";const p=performance.now();n.features.forEach(y=>{a.beginPath(),f(y),a.fill(),a.stroke()}),console.log("inner",performance.now()-p,"ms")},g=()=>{if(!i.current)return;const o=i.current,a=o.getContext("2d");if(!a)return;let s=Ct().scale(400).rotate(u).translate([o.width/2,o.height/2]),f=_t().projection(s).context(a),p=xe();a.beginPath(),f(p),a.strokeStyle="gray",a.lineWidth=1,a.stroke()};return k.useEffect(()=>{if(!t.current||!i.current)return;const o=i.current,a=d=>{const E=i.current;if(!E)return{x:0,y:0};const w=E.getBoundingClientRect();if("touches"in d&&d.touches.length>0){const v=d.touches[0];return{x:v.clientX-w.left,y:v.clientY-w.top}}return{x:d.clientX-w.left,y:d.clientY-w.top}},s=d=>{if(d.button===0){const{x:E,y:w}=a(d);console.log("Left-click detected at",E,w)}},f=d=>{e.current=!0;const{x:E,y:w}=a(d);r.current={x:E,y:w}},p=d=>{if(!e.current)return;const{x:E,y:w}=a(d),v=E-r.current.x,m=w-r.current.y;r.current={x:E,y:w},("touches"in d&&d.touches.length>0||d instanceof MouseEvent&&d.button===0)&&l(M=>[M[0]+v/2,Math.max(Math.min(M[1]-m/2,90),-90),M[2]])},y=()=>{e.current&&(e.current=!1)};return o.addEventListener("click",s),o.addEventListener("mousedown",f),window.addEventListener("mousemove",p),window.addEventListener("mouseup",y),o.addEventListener("touchstart",f),window.addEventListener("touchmove",p),window.addEventListener("touchend",y),()=>{o.removeEventListener("click",s),o.removeEventListener("mousedown",f),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",y),o.removeEventListener("touchstart",f),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",y)}},[n]),k.useEffect(()=>{if(!t.current)return;const o=new ResizeObserver(()=>{if(!t.current||!i.current)return;const{clientWidth:a,clientHeight:s}=t.current;i.current.width=a,i.current.height=s,c(),console.log("GeoCanvas useEffect",a,s)});return o.observe(t.current),()=>{t.current&&o.unobserve(t.current)}},[n]),c(),F.jsx("div",{ref:t,style:{width:"100%",height:"100%"},children:F.jsx("canvas",{ref:i})})};function Ue(n){return n>1e6?`${(n/1e6).toFixed(1)}M`:n>1e3?`${(n/1e3).toFixed(1)}K`:`${n}`}function Ze(n,t){const i=k.useRef(),e=k.useRef(0),r=(...u)=>{const l=performance.now();if(clearTimeout(i.current),l>e.current+t){e.current=l,n(...u);return}i.current=setTimeout(()=>{n(...u)},t)};return r.cancel=()=>i.current?(clearTimeout(i.current),i.current=void 0,!0):!1,k.useEffect(()=>()=>clearTimeout(i.current),[]),r}const Ke=({countryInfo:n})=>(k.useEffect(()=>{},[n]),n?F.jsx(F.Fragment,{children:F.jsx(Nn,{width:"auto",height:"auto",children:F.jsxs(oe,{elevation:24,sx:{p:1,border:"1px solid white"},children:[F.jsx(at,{maxWidth:"300px",variant:"h6",sx:{mb:2,wordWrap:"break-word",textAlign:"center",fontWeight:"bold"},children:n.name_en}),F.jsxs(at,{variant:"body2",children:["continent: ",n.continent,F.jsx("br",{}),"type: ",n.type,F.jsx("br",{}),"population: ",Ue(n.pop_est)," (",n.pop_year,")",F.jsx("br",{})]}),n&&F.jsx(Nn,{maxWidth:"200px",sx:{mt:2},children:F.jsx("img",{width:"100%",src:`/dev-site-misc/geo/flags/${n.iso_a2_eh.toLowerCase()}.svg`})})]})})}):F.jsx(F.Fragment,{})),Ve=()=>{const[n,t]=k.useState(null),[i,e]=k.useState(null);k.useRef(null);const r=async()=>{console.log("loadData()");try{const u=await fetch("/dev-site-misc/geo/custom_110.geo.json");if(!u.ok)throw new Error("Failed to fetch JSON file");const l=await u.json();t(l)}catch(u){console.error("Error loading JSON:",u)}};return Ze((u,l)=>{let c={name:l.properties.name,name_en:l.properties.name_en,continent:l.properties.continent,pop_est:l.properties.pop_est,pop_year:l.properties.pop_year,type:l.properties.type,postal:l.properties.postal,iso_a2_eh:l.properties.iso_a2_eh};e(c)},100),k.useEffect(()=>{console.log("useEffect"),r()},[]),F.jsx(F.Fragment,{children:F.jsxs(Nn,{width:"100%",height:"100%",sx:{position:"relative"},children:[F.jsx(Je,{data:n}),F.jsx(Nn,{sx:{position:"absolute",right:"0.5em",top:"0.5em"},children:F.jsx(Ke,{countryInfo:i})})]})})};export{Ve as GeoScene};
