import{g as ce,a as fe,s as pe,m as he,r as k,u as ve,b as ge,j,c as de,d as vt,e as gt,f as Se,B as Fn,T as dt}from"./index-BFJZwpaQ.js";function ye(n){return ce("MuiPaper",n)}fe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ee=n=>{const{square:t,elevation:i,variant:e,classes:r}=n,o={root:["root",e,!t&&"rounded",e==="elevation"&&`elevation${i}`]};return Se(o,ye,r)},we=pe("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,t)=>{const{ownerState:i}=n;return[t.root,t[i.variant],!i.square&&t.rounded,i.variant==="elevation"&&t[`elevation${i.elevation}`]]}})(he(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),me=k.forwardRef(function(t,i){var f;const e=ve({props:t,name:"MuiPaper"}),r=ge(),{className:o,component:u="div",elevation:l=1,square:S=!1,variant:d="elevation",...a}=e,c={...e,component:u,elevation:l,square:S,variant:d},s=Ee(c);return j.jsx(we,{as:u,ownerState:c,className:de(s.root,o),ref:i,...a,style:{...d==="elevation"&&{"--Paper-shadow":(r.vars||r).shadows[l],...r.vars&&{"--Paper-overlay":(f=r.vars.overlays)==null?void 0:f[l]},...!r.vars&&r.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${vt("#fff",gt(l))}, ${vt("#fff",gt(l))})`}},...a.style}})});class tn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const o=i[r],u=t+o,l=Math.abs(t)<Math.abs(o)?t-(u-o):o-(u-t);l&&(i[e++]=l),t=u}return i[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let i=this._n,e,r,o,u=0;if(i>0){for(u=t[--i];i>0&&(e=u,r=t[--i],u=e+r,o=r-(u-e),!o););i>0&&(o<0&&t[i-1]<0||o>0&&t[i-1]>0)&&(r=o*2,e=u+r,r==e-u&&(u=e))}return u}}function*Pe(n){for(const t of n)yield*t}function Wt(n){return Array.from(Pe(n))}function sn(n,t,i){n=+n,t=+t,i=(r=arguments.length)<2?(t=n,n=0,1):r<3?1:+i;for(var e=-1,r=Math.max(0,Math.ceil((t-n)/i))|0,o=new Array(r);++e<r;)o[e]=n+e*i;return o}var _=1e-6,Bt=1e-12,$=Math.PI,H=$/2,St=$/4,J=$*2,V=180/$,Y=$/180,z=Math.abs,Me=Math.atan,on=Math.atan2,D=Math.cos,xn=Math.ceil,F=Math.sin,xe=Math.sign||function(n){return n>0?1:n<0?-1:0},nn=Math.sqrt;function Re(n){return n>1?0:n<-1?$:Math.acos(n)}function un(n){return n>1?H:n<-1?-H:Math.asin(n)}function O(){}function Dn(n,t){n&&Et.hasOwnProperty(n.type)&&Et[n.type](n,t)}var yt={Feature:function(n,t){Dn(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,e=-1,r=i.length;++e<r;)Dn(i[e].geometry,t)}},Et={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)n=i[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){Jn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)Jn(i[e],t,0)},Polygon:function(n,t){wt(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)wt(i[e],t)},GeometryCollection:function(n,t){for(var i=n.geometries,e=-1,r=i.length;++e<r;)Dn(i[e],t)}};function Jn(n,t,i){var e=-1,r=n.length-i,o;for(t.lineStart();++e<r;)o=n[e],t.point(o[0],o[1],o[2]);t.lineEnd()}function wt(n,t){var i=-1,e=n.length;for(t.polygonStart();++i<e;)Jn(n[i],t,1);t.polygonEnd()}function rn(n,t){n&&yt.hasOwnProperty(n.type)?yt[n.type](n,t):Dn(n,t)}function Un(n){return[on(n[1],n[0]),un(n[2])]}function fn(n){var t=n[0],i=n[1],e=D(i);return[e*D(t),e*F(t),F(i)]}function Rn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function zn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function In(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function _n(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Zn(n){var t=nn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Kn(n,t){function i(e,r){return e=n(e,r),t(e[0],e[1])}return n.invert&&t.invert&&(i.invert=function(e,r){return e=t.invert(e,r),e&&n.invert(e[0],e[1])}),i}function Qn(n,t){return z(n)>$&&(n-=Math.round(n/J)*J),[n,t]}Qn.invert=Qn;function _e(n,t,i){return(n%=J)?t||i?Kn(Pt(n),Mt(t,i)):Pt(n):t||i?Mt(t,i):Qn}function mt(n){return function(t,i){return t+=n,z(t)>$&&(t-=Math.round(t/J)*J),[t,i]}}function Pt(n){var t=mt(n);return t.invert=mt(-n),t}function Mt(n,t){var i=D(n),e=F(n),r=D(t),o=F(t);function u(l,S){var d=D(S),a=D(l)*d,c=F(l)*d,s=F(S),f=s*i+a*e;return[on(c*r-f*o,a*i-s*e),un(f*r+c*o)]}return u.invert=function(l,S){var d=D(S),a=D(l)*d,c=F(l)*d,s=F(S),f=s*r-c*o;return[on(c*r+s*o,a*i+f*e),un(f*i-a*e)]},u}function $e(n,t,i,e,r,o){if(i){var u=D(t),l=F(t),S=e*i;r==null?(r=t+e*J,o=t-S/2):(r=xt(u,r),o=xt(u,o),(e>0?r<o:r>o)&&(r+=e*J));for(var d,a=r;e>0?a>o:a<o;a-=S)d=Un([u,-l*D(a),-l*F(a)]),n.point(d[0],d[1])}}function xt(n,t){t=fn(t),t[0]-=n,Zn(t);var i=Re(-t[1]);return((-t[2]<0?-i:i)+J-_)%J}function Ht(){var n=[],t;return{point:function(i,e,r){t.push([i,e,r])},lineStart:function(){n.push(t=[])},lineEnd:O,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var i=n;return n=[],t=null,i}}}function Nn(n,t){return z(n[0]-t[0])<_&&z(n[1]-t[1])<_}function $n(n,t,i,e){this.x=n,this.z=t,this.o=i,this.e=e,this.v=!1,this.n=this.p=null}function Jt(n,t,i,e,r){var o=[],u=[],l,S;if(n.forEach(function(p){if(!((w=p.length-1)<=0)){var w,v=p[0],y=p[w],E;if(Nn(v,y)){if(!v[2]&&!y[2]){for(r.lineStart(),l=0;l<w;++l)r.point((v=p[l])[0],v[1]);r.lineEnd();return}y[0]+=2*_}o.push(E=new $n(v,p,null,!0)),u.push(E.o=new $n(v,null,E,!1)),o.push(E=new $n(y,p,null,!1)),u.push(E.o=new $n(y,null,E,!0))}}),!!o.length){for(u.sort(t),Rt(o),Rt(u),l=0,S=u.length;l<S;++l)u[l].e=i=!i;for(var d=o[0],a,c;;){for(var s=d,f=!0;s.v;)if((s=s.n)===d)return;a=s.z,r.lineStart();do{if(s.v=s.o.v=!0,s.e){if(f)for(l=0,S=a.length;l<S;++l)r.point((c=a[l])[0],c[1]);else e(s.x,s.n.x,1,r);s=s.n}else{if(f)for(a=s.p.z,l=a.length-1;l>=0;--l)r.point((c=a[l])[0],c[1]);else e(s.x,s.p.x,-1,r);s=s.p}s=s.o,a=s.z,f=!f}while(!s.v);r.lineEnd()}}}function Rt(n){if(t=n.length){for(var t,i=0,e=n[0],r;++i<t;)e.n=r=n[i],r.p=e,e=r;e.n=r=n[0],r.p=e}}function qn(n){return z(n[0])<=$?n[0]:xe(n[0])*((z(n[0])+$)%J-$)}function Ut(n,t){var i=qn(t),e=t[1],r=F(e),o=[F(i),-D(i),0],u=0,l=0,S=new tn;r===1?e=H+_:r===-1&&(e=-H-_);for(var d=0,a=n.length;d<a;++d)if(s=(c=n[d]).length)for(var c,s,f=c[s-1],p=qn(f),w=f[1]/2+St,v=F(w),y=D(w),E=0;E<s;++E,p=m,v=x,y=C,f=g){var g=c[E],m=qn(g),P=g[1]/2+St,x=F(P),C=D(P),L=m-p,N=L>=0?1:-1,A=N*L,M=A>$,I=v*x;if(S.add(on(I*N*F(A),y*C+I*D(A))),u+=M?L+N*J:L,M^p>=i^m>=i){var X=zn(fn(f),fn(g));Zn(X);var T=zn(o,X);Zn(T);var h=(M^L>=0?-1:1)*un(T[2]);(e>h||e===h&&(X[0]||X[1]))&&(l+=M^L>=0?1:-1)}}return(u<-_||u<_&&S<-Bt)^l&1}function Zt(n,t,i,e){return function(r){var o=t(r),u=Ht(),l=t(u),S=!1,d,a,c,s={point:f,lineStart:w,lineEnd:v,polygonStart:function(){s.point=y,s.lineStart=E,s.lineEnd=g,a=[],d=[]},polygonEnd:function(){s.point=f,s.lineStart=w,s.lineEnd=v,a=Wt(a);var m=Ut(d,e);a.length?(S||(r.polygonStart(),S=!0),Jt(a,Ne,m,i,r)):m&&(S||(r.polygonStart(),S=!0),r.lineStart(),i(null,null,1,r),r.lineEnd()),S&&(r.polygonEnd(),S=!1),a=d=null},sphere:function(){r.polygonStart(),r.lineStart(),i(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function f(m,P){n(m,P)&&r.point(m,P)}function p(m,P){o.point(m,P)}function w(){s.point=p,o.lineStart()}function v(){s.point=f,o.lineEnd()}function y(m,P){c.push([m,P]),l.point(m,P)}function E(){l.lineStart(),c=[]}function g(){y(c[0][0],c[0][1]),l.lineEnd();var m=l.clean(),P=u.result(),x,C=P.length,L,N,A;if(c.pop(),d.push(c),c=null,!!C){if(m&1){if(N=P[0],(L=N.length-1)>0){for(S||(r.polygonStart(),S=!0),r.lineStart(),x=0;x<L;++x)r.point((A=N[x])[0],A[1]);r.lineEnd()}return}C>1&&m&2&&P.push(P.pop().concat(P.shift())),a.push(P.filter(Le))}}return s}}function Le(n){return n.length>1}function Ne(n,t){return((n=n.x)[0]<0?n[1]-H-_:H-n[1])-((t=t.x)[0]<0?t[1]-H-_:H-t[1])}const _t=Zt(function(){return!0},Ce,Fe,[-$,-H]);function Ce(n){var t=NaN,i=NaN,e=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(o,u){var l=o>0?$:-$,S=z(o-t);z(S-$)<_?(n.point(t,i=(i+u)/2>0?H:-H),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(l,i),n.point(o,i),r=0):e!==l&&S>=$&&(z(t-e)<_&&(t-=e*_),z(o-l)<_&&(o-=l*_),i=Te(t,i,o,u),n.point(e,i),n.lineEnd(),n.lineStart(),n.point(l,i),r=0),n.point(t=o,i=u),e=l},lineEnd:function(){n.lineEnd(),t=i=NaN},clean:function(){return 2-r}}}function Te(n,t,i,e){var r,o,u=F(n-i);return z(u)>_?Me((F(t)*(o=D(e))*F(i)-F(e)*(r=D(t))*F(n))/(r*o*u)):(t+e)/2}function Fe(n,t,i,e){var r;if(n==null)r=i*H,e.point(-$,r),e.point(0,r),e.point($,r),e.point($,0),e.point($,-r),e.point(0,-r),e.point(-$,-r),e.point(-$,0),e.point(-$,r);else if(z(n[0]-t[0])>_){var o=n[0]<t[0]?$:-$;r=i*o/2,e.point(-o,r),e.point(0,r),e.point(o,r)}else e.point(t[0],t[1])}function De(n){var t=D(n),i=2*Y,e=t>0,r=z(t)>_;function o(a,c,s,f){$e(f,n,i,s,a,c)}function u(a,c){return D(a)*D(c)>t}function l(a){var c,s,f,p,w;return{lineStart:function(){p=f=!1,w=1},point:function(v,y){var E=[v,y],g,m=u(v,y),P=e?m?0:d(v,y):m?d(v+(v<0?$:-$),y):0;if(!c&&(p=f=m)&&a.lineStart(),m!==f&&(g=S(c,E),(!g||Nn(c,g)||Nn(E,g))&&(E[2]=1)),m!==f)w=0,m?(a.lineStart(),g=S(E,c),a.point(g[0],g[1])):(g=S(c,E),a.point(g[0],g[1],2),a.lineEnd()),c=g;else if(r&&c&&e^m){var x;!(P&s)&&(x=S(E,c,!0))&&(w=0,e?(a.lineStart(),a.point(x[0][0],x[0][1]),a.point(x[1][0],x[1][1]),a.lineEnd()):(a.point(x[1][0],x[1][1]),a.lineEnd(),a.lineStart(),a.point(x[0][0],x[0][1],3)))}m&&(!c||!Nn(c,E))&&a.point(E[0],E[1]),c=E,f=m,s=P},lineEnd:function(){f&&a.lineEnd(),c=null},clean:function(){return w|(p&&f)<<1}}}function S(a,c,s){var f=fn(a),p=fn(c),w=[1,0,0],v=zn(f,p),y=Rn(v,v),E=v[0],g=y-E*E;if(!g)return!s&&a;var m=t*y/g,P=-t*E/g,x=zn(w,v),C=_n(w,m),L=_n(v,P);In(C,L);var N=x,A=Rn(C,N),M=Rn(N,N),I=A*A-M*(Rn(C,C)-1);if(!(I<0)){var X=nn(I),T=_n(N,(-A-X)/M);if(In(T,C),T=Un(T),!s)return T;var h=a[0],R=c[0],G=a[1],q=c[1],W;R<h&&(W=h,h=R,R=W);var vn=R-h,K=z(vn-$)<_,en=K||vn<_;if(!K&&q<G&&(W=G,G=q,q=W),en?K?G+q>0^T[1]<(z(T[0]-h)<_?G:q):G<=T[1]&&T[1]<=q:vn>$^(h<=T[0]&&T[0]<=R)){var Q=_n(N,(-A+X)/M);return In(Q,C),[T,Un(Q)]}}}function d(a,c){var s=e?n:$-n,f=0;return a<-s?f|=1:a>s&&(f|=2),c<-s?f|=4:c>s&&(f|=8),f}return Zt(u,l,o,e?[0,-n]:[-$,n-$])}function ze(n,t,i,e,r,o){var u=n[0],l=n[1],S=t[0],d=t[1],a=0,c=1,s=S-u,f=d-l,p;if(p=i-u,!(!s&&p>0)){if(p/=s,s<0){if(p<a)return;p<c&&(c=p)}else if(s>0){if(p>c)return;p>a&&(a=p)}if(p=r-u,!(!s&&p<0)){if(p/=s,s<0){if(p>c)return;p>a&&(a=p)}else if(s>0){if(p<a)return;p<c&&(c=p)}if(p=e-l,!(!f&&p>0)){if(p/=f,f<0){if(p<a)return;p<c&&(c=p)}else if(f>0){if(p>c)return;p>a&&(a=p)}if(p=o-l,!(!f&&p<0)){if(p/=f,f<0){if(p>c)return;p>a&&(a=p)}else if(f>0){if(p<a)return;p<c&&(c=p)}return a>0&&(n[0]=u+a*s,n[1]=l+a*f),c<1&&(t[0]=u+c*s,t[1]=l+c*f),!0}}}}}var gn=1e9,Ln=-gn;function Ae(n,t,i,e){function r(d,a){return n<=d&&d<=i&&t<=a&&a<=e}function o(d,a,c,s){var f=0,p=0;if(d==null||(f=u(d,c))!==(p=u(a,c))||S(d,a)<0^c>0)do s.point(f===0||f===3?n:i,f>1?e:t);while((f=(f+c+4)%4)!==p);else s.point(a[0],a[1])}function u(d,a){return z(d[0]-n)<_?a>0?0:3:z(d[0]-i)<_?a>0?2:1:z(d[1]-t)<_?a>0?1:0:a>0?3:2}function l(d,a){return S(d.x,a.x)}function S(d,a){var c=u(d,1),s=u(a,1);return c!==s?c-s:c===0?a[1]-d[1]:c===1?d[0]-a[0]:c===2?d[1]-a[1]:a[0]-d[0]}return function(d){var a=d,c=Ht(),s,f,p,w,v,y,E,g,m,P,x,C={point:L,lineStart:I,lineEnd:X,polygonStart:A,polygonEnd:M};function L(h,R){r(h,R)&&a.point(h,R)}function N(){for(var h=0,R=0,G=f.length;R<G;++R)for(var q=f[R],W=1,vn=q.length,K=q[0],en,Q,Mn=K[0],ln=K[1];W<vn;++W)en=Mn,Q=ln,K=q[W],Mn=K[0],ln=K[1],Q<=e?ln>e&&(Mn-en)*(e-Q)>(ln-Q)*(n-en)&&++h:ln<=e&&(Mn-en)*(e-Q)<(ln-Q)*(n-en)&&--h;return h}function A(){a=c,s=[],f=[],x=!0}function M(){var h=N(),R=x&&h,G=(s=Wt(s)).length;(R||G)&&(d.polygonStart(),R&&(d.lineStart(),o(null,null,1,d),d.lineEnd()),G&&Jt(s,l,h,o,d),d.polygonEnd()),a=d,s=f=p=null}function I(){C.point=T,f&&f.push(p=[]),P=!0,m=!1,E=g=NaN}function X(){s&&(T(w,v),y&&m&&c.rejoin(),s.push(c.result())),C.point=L,m&&a.lineEnd()}function T(h,R){var G=r(h,R);if(f&&p.push([h,R]),P)w=h,v=R,y=G,P=!1,G&&(a.lineStart(),a.point(h,R));else if(G&&m)a.point(h,R);else{var q=[E=Math.max(Ln,Math.min(gn,E)),g=Math.max(Ln,Math.min(gn,g))],W=[h=Math.max(Ln,Math.min(gn,h)),R=Math.max(Ln,Math.min(gn,R))];ze(q,W,n,t,i,e)?(m||(a.lineStart(),a.point(q[0],q[1])),a.point(W[0],W[1]),G||a.lineEnd(),x=!1):G&&(a.lineStart(),a.point(h,R),x=!1)}E=h,g=R,m=G}return C}}var Vn,bn,Cn,Tn,pn={sphere:O,point:O,lineStart:je,lineEnd:O,polygonStart:O,polygonEnd:O};function je(){pn.point=Ye,pn.lineEnd=Xe}function Xe(){pn.point=pn.lineEnd=O}function Ye(n,t){n*=Y,t*=Y,bn=n,Cn=F(t),Tn=D(t),pn.point=Ge}function Ge(n,t){n*=Y,t*=Y;var i=F(t),e=D(t),r=z(n-bn),o=D(r),u=F(r),l=e*u,S=Tn*i-Cn*e*o,d=Cn*i+Tn*e*o;Vn.add(on(nn(l*l+S*S),d)),bn=n,Cn=i,Tn=e}function Oe(n){return Vn=new tn,rn(n,pn),+Vn}var nt=[null,null],ke={type:"LineString",coordinates:nt};function tt(n,t){return nt[0]=n,nt[1]=t,Oe(ke)}var $t={Feature:function(n,t){return An(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,e=-1,r=i.length;++e<r;)if(An(i[e].geometry,t))return!0;return!1}},Lt={Sphere:function(){return!0},Point:function(n,t){return Nt(n.coordinates,t)},MultiPoint:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)if(Nt(i[e],t))return!0;return!1},LineString:function(n,t){return Ct(n.coordinates,t)},MultiLineString:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)if(Ct(i[e],t))return!0;return!1},Polygon:function(n,t){return Tt(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,e=-1,r=i.length;++e<r;)if(Tt(i[e],t))return!0;return!1},GeometryCollection:function(n,t){for(var i=n.geometries,e=-1,r=i.length;++e<r;)if(An(i[e],t))return!0;return!1}};function An(n,t){return n&&Lt.hasOwnProperty(n.type)?Lt[n.type](n,t):!1}function Nt(n,t){return tt(n,t)===0}function Ct(n,t){for(var i,e,r,o=0,u=n.length;o<u;o++){if(e=tt(n[o],t),e===0||o>0&&(r=tt(n[o],n[o-1]),r>0&&i<=r&&e<=r&&(i+e-r)*(1-Math.pow((i-e)/r,2))<Bt*r))return!0;i=e}return!1}function Tt(n,t){return!!Ut(n.map(Ie),Kt(t))}function Ie(n){return n=n.map(Kt),n.pop(),n}function Kt(n){return[n[0]*Y,n[1]*Y]}function qe(n,t){return(n&&$t.hasOwnProperty(n.type)?$t[n.type]:An)(n,t)}function Ft(n,t,i){var e=sn(n,t-_,i).concat(t);return function(r){return e.map(function(o){return[r,o]})}}function Dt(n,t,i){var e=sn(n,t-_,i).concat(t);return function(r){return e.map(function(o){return[o,r]})}}function We(){var n,t,i,e,r,o,u,l,S=10,d=S,a=90,c=360,s,f,p,w,v=2.5;function y(){return{type:"MultiLineString",coordinates:E()}}function E(){return sn(xn(e/a)*a,i,a).map(p).concat(sn(xn(l/c)*c,u,c).map(w)).concat(sn(xn(t/S)*S,n,S).filter(function(g){return z(g%a)>_}).map(s)).concat(sn(xn(o/d)*d,r,d).filter(function(g){return z(g%c)>_}).map(f))}return y.lines=function(){return E().map(function(g){return{type:"LineString",coordinates:g}})},y.outline=function(){return{type:"Polygon",coordinates:[p(e).concat(w(u).slice(1),p(i).reverse().slice(1),w(l).reverse().slice(1))]}},y.extent=function(g){return arguments.length?y.extentMajor(g).extentMinor(g):y.extentMinor()},y.extentMajor=function(g){return arguments.length?(e=+g[0][0],i=+g[1][0],l=+g[0][1],u=+g[1][1],e>i&&(g=e,e=i,i=g),l>u&&(g=l,l=u,u=g),y.precision(v)):[[e,l],[i,u]]},y.extentMinor=function(g){return arguments.length?(t=+g[0][0],n=+g[1][0],o=+g[0][1],r=+g[1][1],t>n&&(g=t,t=n,n=g),o>r&&(g=o,o=r,r=g),y.precision(v)):[[t,o],[n,r]]},y.step=function(g){return arguments.length?y.stepMajor(g).stepMinor(g):y.stepMinor()},y.stepMajor=function(g){return arguments.length?(a=+g[0],c=+g[1],y):[a,c]},y.stepMinor=function(g){return arguments.length?(S=+g[0],d=+g[1],y):[S,d]},y.precision=function(g){return arguments.length?(v=+g,s=Ft(o,r,90),f=Dt(t,n,v),p=Ft(l,u,90),w=Dt(e,i,v),y):v},y.extentMajor([[-180,-90+_],[180,90-_]]).extentMinor([[-180,-80-_],[180,80+_]])}function Be(){return We()()}const et=n=>n;var Wn=new tn,it=new tn,Qt,Vt,rt,ot,b={point:O,lineStart:O,lineEnd:O,polygonStart:function(){b.lineStart=He,b.lineEnd=Ue},polygonEnd:function(){b.lineStart=b.lineEnd=b.point=O,Wn.add(z(it)),it=new tn},result:function(){var n=Wn/2;return Wn=new tn,n}};function He(){b.point=Je}function Je(n,t){b.point=bt,Qt=rt=n,Vt=ot=t}function bt(n,t){it.add(ot*n-rt*t),rt=n,ot=t}function Ue(){bt(Qt,Vt)}var hn=1/0,jn=hn,mn=-hn,Xn=mn,Yn={point:Ze,lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var n=[[hn,jn],[mn,Xn]];return mn=Xn=-(jn=hn=1/0),n}};function Ze(n,t){n<hn&&(hn=n),n>mn&&(mn=n),t<jn&&(jn=t),t>Xn&&(Xn=t)}var ut=0,at=0,dn=0,Gn=0,On=0,cn=0,lt=0,st=0,Sn=0,ne,te,U,Z,B={point:an,lineStart:zt,lineEnd:At,polygonStart:function(){B.lineStart=Ve,B.lineEnd=be},polygonEnd:function(){B.point=an,B.lineStart=zt,B.lineEnd=At},result:function(){var n=Sn?[lt/Sn,st/Sn]:cn?[Gn/cn,On/cn]:dn?[ut/dn,at/dn]:[NaN,NaN];return ut=at=dn=Gn=On=cn=lt=st=Sn=0,n}};function an(n,t){ut+=n,at+=t,++dn}function zt(){B.point=Ke}function Ke(n,t){B.point=Qe,an(U=n,Z=t)}function Qe(n,t){var i=n-U,e=t-Z,r=nn(i*i+e*e);Gn+=r*(U+n)/2,On+=r*(Z+t)/2,cn+=r,an(U=n,Z=t)}function At(){B.point=an}function Ve(){B.point=ni}function be(){ee(ne,te)}function ni(n,t){B.point=ee,an(ne=U=n,te=Z=t)}function ee(n,t){var i=n-U,e=t-Z,r=nn(i*i+e*e);Gn+=r*(U+n)/2,On+=r*(Z+t)/2,cn+=r,r=Z*n-U*t,lt+=r*(U+n),st+=r*(Z+t),Sn+=r*3,an(U=n,Z=t)}function ie(n){this._context=n}ie.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,J);break}}},result:O};var ct=new tn,Bn,re,oe,yn,En,Pn={point:O,lineStart:function(){Pn.point=ti},lineEnd:function(){Bn&&ue(re,oe),Pn.point=O},polygonStart:function(){Bn=!0},polygonEnd:function(){Bn=null},result:function(){var n=+ct;return ct=new tn,n}};function ti(n,t){Pn.point=ue,re=yn=n,oe=En=t}function ue(n,t){yn-=n,En-=t,ct.add(nn(yn*yn+En*En)),yn=n,En=t}let jt,kn,Xt,Yt;class Gt{constructor(t){this._append=t==null?ae:ei(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,i){switch(this._point){case 0:{this._append`M${t},${i}`,this._point=1;break}case 1:{this._append`L${t},${i}`;break}default:{if(this._append`M${t},${i}`,this._radius!==Xt||this._append!==kn){const e=this._radius,r=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,Xt=e,kn=this._append,Yt=this._,this._=r}this._+=Yt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function ae(n){let t=1;this._+=n[0];for(const i=n.length;t<i;++t)this._+=arguments[t]+n[t]}function ei(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return ae;if(t!==jt){const i=10**t;jt=t,kn=function(r){let o=1;this._+=r[0];for(const u=r.length;o<u;++o)this._+=Math.round(arguments[o]*i)/i+r[o]}}return kn}function Ot(n,t){let i=3,e=4.5,r,o;function u(l){return l&&(typeof e=="function"&&o.pointRadius(+e.apply(this,arguments)),rn(l,r(o))),o.result()}return u.area=function(l){return rn(l,r(b)),b.result()},u.measure=function(l){return rn(l,r(Pn)),Pn.result()},u.bounds=function(l){return rn(l,r(Yn)),Yn.result()},u.centroid=function(l){return rn(l,r(B)),B.result()},u.projection=function(l){return arguments.length?(r=l==null?(n=null,et):(n=l).stream,u):n},u.context=function(l){return arguments.length?(o=l==null?(t=null,new Gt(i)):new ie(t=l),typeof e!="function"&&o.pointRadius(e),u):t},u.pointRadius=function(l){return arguments.length?(e=typeof l=="function"?l:(o.pointRadius(+l),+l),u):e},u.digits=function(l){if(!arguments.length)return i;if(l==null)i=null;else{const S=Math.floor(l);if(!(S>=0))throw new RangeError(`invalid digits: ${l}`);i=S}return t===null&&(o=new Gt(i)),u},u.projection(n).digits(i).context(t)}function pt(n){return function(t){var i=new ft;for(var e in n)i[e]=n[e];return i.stream=t,i}}function ft(){}ft.prototype={constructor:ft,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ht(n,t,i){var e=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),e!=null&&n.clipExtent(null),rn(i,n.stream(Yn)),t(Yn.result()),e!=null&&n.clipExtent(e),n}function le(n,t,i){return ht(n,function(e){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],u=Math.min(r/(e[1][0]-e[0][0]),o/(e[1][1]-e[0][1])),l=+t[0][0]+(r-u*(e[1][0]+e[0][0]))/2,S=+t[0][1]+(o-u*(e[1][1]+e[0][1]))/2;n.scale(150*u).translate([l,S])},i)}function ii(n,t,i){return le(n,[[0,0],t],i)}function ri(n,t,i){return ht(n,function(e){var r=+t,o=r/(e[1][0]-e[0][0]),u=(r-o*(e[1][0]+e[0][0]))/2,l=-o*e[0][1];n.scale(150*o).translate([u,l])},i)}function oi(n,t,i){return ht(n,function(e){var r=+t,o=r/(e[1][1]-e[0][1]),u=-o*e[0][0],l=(r-o*(e[1][1]+e[0][1]))/2;n.scale(150*o).translate([u,l])},i)}var kt=16,ui=D(30*Y);function It(n,t){return+t?li(n,t):ai(n)}function ai(n){return pt({point:function(t,i){t=n(t,i),this.stream.point(t[0],t[1])}})}function li(n,t){function i(e,r,o,u,l,S,d,a,c,s,f,p,w,v){var y=d-e,E=a-r,g=y*y+E*E;if(g>4*t&&w--){var m=u+s,P=l+f,x=S+p,C=nn(m*m+P*P+x*x),L=un(x/=C),N=z(z(x)-1)<_||z(o-c)<_?(o+c)/2:on(P,m),A=n(N,L),M=A[0],I=A[1],X=M-e,T=I-r,h=E*X-y*T;(h*h/g>t||z((y*X+E*T)/g-.5)>.3||u*s+l*f+S*p<ui)&&(i(e,r,o,u,l,S,M,I,N,m/=C,P/=C,x,w,v),v.point(M,I),i(M,I,N,m,P,x,d,a,c,s,f,p,w,v))}}return function(e){var r,o,u,l,S,d,a,c,s,f,p,w,v={point:y,lineStart:E,lineEnd:m,polygonStart:function(){e.polygonStart(),v.lineStart=P},polygonEnd:function(){e.polygonEnd(),v.lineStart=E}};function y(L,N){L=n(L,N),e.point(L[0],L[1])}function E(){c=NaN,v.point=g,e.lineStart()}function g(L,N){var A=fn([L,N]),M=n(L,N);i(c,s,a,f,p,w,c=M[0],s=M[1],a=L,f=A[0],p=A[1],w=A[2],kt,e),e.point(c,s)}function m(){v.point=y,e.lineEnd()}function P(){E(),v.point=x,v.lineEnd=C}function x(L,N){g(r=L,N),o=c,u=s,l=f,S=p,d=w,v.point=g}function C(){i(c,s,a,f,p,w,o,u,r,l,S,d,kt,e),v.lineEnd=m,m()}return v}}var si=pt({point:function(n,t){this.stream.point(n*Y,t*Y)}});function ci(n){return pt({point:function(t,i){var e=n(t,i);return this.stream.point(e[0],e[1])}})}function fi(n,t,i,e,r){function o(u,l){return u*=e,l*=r,[t+n*u,i-n*l]}return o.invert=function(u,l){return[(u-t)/n*e,(i-l)/n*r]},o}function qt(n,t,i,e,r,o){if(!o)return fi(n,t,i,e,r);var u=D(o),l=F(o),S=u*n,d=l*n,a=u/n,c=l/n,s=(l*i-u*t)/n,f=(l*t+u*i)/n;function p(w,v){return w*=e,v*=r,[S*w-d*v+t,i-d*w-S*v]}return p.invert=function(w,v){return[e*(a*w-c*v+s),r*(f-c*w-a*v)]},p}function pi(n){return hi(function(){return n})()}function hi(n){var t,i=150,e=480,r=250,o=0,u=0,l=0,S=0,d=0,a,c=0,s=1,f=1,p=null,w=_t,v=null,y,E,g,m=et,P=.5,x,C,L,N,A;function M(h){return L(h[0]*Y,h[1]*Y)}function I(h){return h=L.invert(h[0],h[1]),h&&[h[0]*V,h[1]*V]}M.stream=function(h){return N&&A===h?N:N=si(ci(a)(w(x(m(A=h)))))},M.preclip=function(h){return arguments.length?(w=h,p=void 0,T()):w},M.postclip=function(h){return arguments.length?(m=h,v=y=E=g=null,T()):m},M.clipAngle=function(h){return arguments.length?(w=+h?De(p=h*Y):(p=null,_t),T()):p*V},M.clipExtent=function(h){return arguments.length?(m=h==null?(v=y=E=g=null,et):Ae(v=+h[0][0],y=+h[0][1],E=+h[1][0],g=+h[1][1]),T()):v==null?null:[[v,y],[E,g]]},M.scale=function(h){return arguments.length?(i=+h,X()):i},M.translate=function(h){return arguments.length?(e=+h[0],r=+h[1],X()):[e,r]},M.center=function(h){return arguments.length?(o=h[0]%360*Y,u=h[1]%360*Y,X()):[o*V,u*V]},M.rotate=function(h){return arguments.length?(l=h[0]%360*Y,S=h[1]%360*Y,d=h.length>2?h[2]%360*Y:0,X()):[l*V,S*V,d*V]},M.angle=function(h){return arguments.length?(c=h%360*Y,X()):c*V},M.reflectX=function(h){return arguments.length?(s=h?-1:1,X()):s<0},M.reflectY=function(h){return arguments.length?(f=h?-1:1,X()):f<0},M.precision=function(h){return arguments.length?(x=It(C,P=h*h),T()):nn(P)},M.fitExtent=function(h,R){return le(M,h,R)},M.fitSize=function(h,R){return ii(M,h,R)},M.fitWidth=function(h,R){return ri(M,h,R)},M.fitHeight=function(h,R){return oi(M,h,R)};function X(){var h=qt(i,0,0,s,f,c).apply(null,t(o,u)),R=qt(i,e-h[0],r-h[1],s,f,c);return a=_e(l,S,d),C=Kn(t,R),L=Kn(a,C),x=It(C,P),T()}function T(){return N=A=null,M}return function(){return t=n.apply(this,arguments),M.invert=t.invert&&I,X()}}function vi(n){return function(t,i){var e=nn(t*t+i*i),r=n(e),o=F(r),u=D(r);return[on(t*o,e*u),un(e&&i*o/e)]}}function se(n,t){return[D(t)*F(n),F(t)]}se.invert=vi(un);function Hn(){return pi(se).scale(249.5).clipAngle(90+_)}function wn(n,t,i){this.k=n,this.x=t,this.y=i}wn.prototype={constructor:wn,scale:function(n){return n===1?this:new wn(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new wn(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};wn.prototype;const gi=({data:n,featureSelectCallback:t})=>{const i=k.useRef(null),e=k.useRef(null),r=k.useRef({isPressed:!1,isMoved:!1,lastPosition:{x:0,y:0}}),o=k.useRef([-24.9,-60.2,0]),u=k.useRef(""),l=(c,s)=>{if(!e.current||!n)return;const f=e.current;if(!f.getContext("2d"))return;let w=Hn().scale(300).rotate(o.current).translate([f.width/2,f.height/2]);const v=w.invert?w.invert([c,s]):[0,0];for(const y of n.features)if(qe(y,v))return y;return null},S=()=>{if(!e.current)return;const s=e.current.getContext("2d");s&&(s.clearRect(0,0,s.canvas.width,s.canvas.height),a(),d())},d=()=>{if(!n||!e.current)return;const c=e.current,s=c.getContext("2d");if(!s)return;let f=Hn().scale(300).rotate(o.current).translate([c.width/2,c.height/2]),p=Ot().projection(f).context(s);n.features.forEach(w=>{s.fillStyle=u.current===w.properties.name?"orange":"#369",s.strokeStyle="white",s.beginPath(),p(w),s.fill(),s.stroke()})},a=()=>{if(!e.current)return;const c=e.current,s=c.getContext("2d");if(!s)return;let f=Hn().scale(300).rotate(o.current).translate([c.width/2,c.height/2]),p=Ot().projection(f).context(s),w=Be();s.beginPath(),p(w),s.strokeStyle="gray",s.lineWidth=1,s.stroke()};return k.useEffect(()=>{if(!i.current||!e.current)return;const c=e.current,s=v=>{const y=e.current;if(!y)return{x:0,y:0};const E=y.getBoundingClientRect();return"touches"in v?v.touches.length>0?{x:v.touches[0].clientX-E.left,y:v.touches[0].clientY-E.top}:{x:r.current.lastPosition.x,y:r.current.lastPosition.y}:{x:v.clientX-E.left,y:v.clientY-E.top}},f=v=>{v.preventDefault(),console.log("handleStartDrag"),r.current.isPressed=!0;const{x:y,y:E}=s(v);r.current.lastPosition={x:y,y:E}},p=v=>{if(v.preventDefault(),!r.current.isPressed)return;r.current.isMoved=!0;const{x:y,y:E}=s(v),g=y-r.current.lastPosition.x,m=E-r.current.lastPosition.y;if(r.current.lastPosition={x:y,y:E},"touches"in v&&v.touches.length>0||v instanceof MouseEvent&&v.button===0){const P=o.current;o.current=[P[0]+g/2,Math.max(Math.min(P[1]-m/2,90),-90),P[2]],S()}},w=v=>{if(console.log("handleEndDrag"),!r.current.isMoved&&(!(v instanceof MouseEvent)||v.button===0)){const{x:y,y:E}=s(v);console.log("Left-click detected at",y,E);const g=l(y,E);u.current=g?g.properties.name:null,t(g),S()}r.current.isPressed=!1,r.current.isMoved=!1};return c.addEventListener("mousedown",f),window.addEventListener("mousemove",p),window.addEventListener("mouseup",w),c.addEventListener("touchstart",f),window.addEventListener("touchmove",p),window.addEventListener("touchend",w),()=>{c.removeEventListener("mousedown",f),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",w),c.removeEventListener("touchstart",f),window.removeEventListener("touchmove",p),window.removeEventListener("touchend",w)}},[n]),k.useEffect(()=>{if(!i.current)return;const c=new ResizeObserver(()=>{if(!i.current||!e.current)return;const{clientWidth:s,clientHeight:f}=i.current;e.current.width=s,e.current.height=f,S(),console.log("GeoCanvas useEffect",s,f)});return c.observe(i.current),()=>{i.current&&c.unobserve(i.current)}},[n]),j.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:j.jsx("canvas",{ref:e})})};function di(n){return n>1e6?`${(n/1e6).toFixed(1)}M`:n>1e3?`${(n/1e3).toFixed(1)}K`:`${n}`}function Si(n,t){const i=k.useRef(),e=k.useRef(0),r=(...o)=>{const u=performance.now();if(clearTimeout(i.current),u>e.current+t){e.current=u,n(...o);return}i.current=setTimeout(()=>{n(...o),i.current=void 0},t)};return r.cancel=()=>i.current?(clearTimeout(i.current),i.current=void 0,!0):!1,k.useEffect(()=>()=>{clearTimeout(i.current),i.current=void 0},[]),r}const yi=({countryInfo:n})=>(k.useEffect(()=>{},[n]),n?j.jsx(j.Fragment,{children:j.jsx(Fn,{width:"auto",height:"auto",children:j.jsxs(me,{elevation:24,sx:{p:1,border:"1px solid white"},children:[j.jsx(dt,{maxWidth:"300px",variant:"h6",sx:{mb:2,wordWrap:"break-word",textAlign:"center",fontWeight:"bold"},children:n.name_en}),j.jsxs(dt,{variant:"body2",children:["continent: ",n.continent,j.jsx("br",{}),"type: ",n.type,j.jsx("br",{}),"population: ",di(n.pop_est)," (",n.pop_year,")",j.jsx("br",{})]}),n&&j.jsx(Fn,{maxWidth:"200px",sx:{mt:2},children:j.jsx("img",{width:"100%",src:`/dev-site-misc/geo/flags/${n.iso_a2_eh.toLowerCase()}.svg`})})]})})}):j.jsx(j.Fragment,{})),wi=()=>{const[n,t]=k.useState(null),[i,e]=k.useState(null),r=async()=>{console.log("loadData()");try{const u=await fetch("/dev-site-misc/geo/custom_110.geo.json");if(!u.ok)throw new Error("Failed to fetch JSON file");const l=await u.json();t(l)}catch(u){console.error("Error loading JSON:",u)}},o=Si(u=>{if(!u){e(null);return}let l={name:u.properties.name,name_en:u.properties.name_en,continent:u.properties.continent,pop_est:u.properties.pop_est,pop_year:u.properties.pop_year,type:u.properties.type,postal:u.properties.postal,iso_a2_eh:u.properties.iso_a2_eh};e(l)},100);return k.useEffect(()=>{console.log("useEffect"),r()},[]),j.jsx(j.Fragment,{children:j.jsxs(Fn,{width:"100%",height:"100%",sx:{position:"relative"},children:[j.jsx(gi,{data:n,featureSelectCallback:o}),j.jsx(Fn,{sx:{position:"absolute",right:"0.5em",top:"0.5em"},children:j.jsx(yi,{countryInfo:i})})]})})};export{wi as GeoScene};
